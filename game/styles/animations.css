/* 动画效果 */
@keyframes attack {
    0% { transform: translateX(0); }
    50% { transform: translateX(-20px); }
    100% { transform: translateX(0); }
}

@keyframes damage {
    0% { color: white; }
    50% { color: #ff4444; transform: scale(1.2); }
    100% { color: white; }
}

@keyframes heal {
    0% { color: white; }
    50% { color: #00C851; transform: scale(1.2); }
    100% { color: white; }
}

@keyframes attackMove {
    0% {
        transform: scale(1) translate(0, 0);
    }
    50% {
        transform: scale(1.1) translate(var(--attack-x, 0px), var(--attack-y, 0px));
    }
    100% {
        transform: scale(1) translate(0, 0);
    }
}

@keyframes hitShake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-3px); }
    75% { transform: translateX(3px); }
}

@keyframes deathFade {
    0% {
        opacity: 1;
        transform: scale(1) rotate(0deg);
    }
    50% {
        opacity: 0.5;
        transform: scale(0.9) rotate(-5deg);
    }
    100% {
        opacity: 0;
        transform: scale(0.7) rotate(-10deg);
    }
}

@keyframes sparkle {
    0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0);
    }
    50% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
    100% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(1.5);
    }
}

@keyframes stealthPulse {
    0%, 100% { 
        opacity: 0.7;
        box-shadow: 0 0 5px rgba(128, 0, 128, 0.3);
    }
    50% { 
        opacity: 0.9;
        box-shadow: 0 0 15px rgba(128, 0, 128, 0.6);
    }
}

@keyframes play {
    0% { transform: scale(0.8) translateY(20px); opacity: 0; }
    70% { transform: scale(1.05); }
    100% { transform: scale(1) translateY(0); opacity: 1; }
}

/* 动画类 */
.animate-attack {
    animation: attack 0.5s ease-in-out;
}

.animate-damage {
    animation: damage 0.5s ease-in-out;
}

.animate-heal {
    animation: heal 0.5s ease-in-out;
}

.animate-play {
    animation: play 0.6s ease-out;
}

.attack-move {
    animation: attackMove 0.8s ease-in-out;
    z-index: 1000;
}

.hit-shake {
    animation: hitShake 0.3s ease-in-out;
}

.death-fade {
    animation: deathFade 1.2s ease-out forwards;
    pointer-events: none;
}

.battle-spark {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    pointer-events: none;
    z-index: 1001;
    animation: sparkle 0.6s ease-out;
}

/* 火球飞行动画 */
@keyframes fireball-flight {
    0% {
        transform: translate(0, 0) scale(0.8);
        opacity: 0.8;
    }
    20% {
        transform: translate(var(--flight-x-20, 20px), var(--flight-y-20, -10px)) scale(1);
        opacity: 1;
    }
    40% {
        transform: translate(var(--flight-x-40, 40px), var(--flight-y-40, -15px)) scale(1.1);
        opacity: 1;
    }
    60% {
        transform: translate(var(--flight-x-60, 60px), var(--flight-y-60, -10px)) scale(1.1);
        opacity: 1;
    }
    80% {
        transform: translate(var(--flight-x-80, 80px), var(--flight-y-80, -5px)) scale(1);
        opacity: 1;
    }
    100% {
        transform: translate(var(--flight-x-100, 100px), var(--flight-y-100, 0px)) scale(0.8);
        opacity: 0;
    }
}

.fireball-projectile {
    position: fixed;
    font-size: 24px;
    pointer-events: none;
    z-index: 1002;
    animation: fireball-flight 0.8s ease-out forwards;
    filter: drop-shadow(2px 2px 4px rgba(255, 107, 53, 0.6));
}

.fireball-impact {
    animation: sparkle 0.6s ease-out;
}
